@(user: cz.payola.domain.entities.User, group: cz.payola.domain.entities.Group, users: Seq[cz.payola.domain.entities.User])

@main(Some(user), "Edit group "+ group.name) {
<div class="container">

    <div class="row-fluid">
        <h1 class="span7">Edit group @group.name</h1><span class="span5" style="text-align: right;"><a href="@routes.Group.delete(group.id)" onclick="return confirm('Are you sure?');" class="btn btn-danger"><i class="icon-remove-circle icon-white"></i> Delete '@group.name'</a></span>
    </div>

    <form action="@routes.Group.save(group.id)" method="post">
        <div class="well">
            <fieldset>
                <legend>Change group properties</legend>
                <div class="control-group">
                    <label class="control-label" for="name">Name</label>
                    <span class="controls">
                        <input type="text" name="name" placeholder="Group name" id="name" value="@group.name" class="input span3">
                    </span>
                </div>
                <div class="control-group">
                    <label class="control-label" for="members">Members</label>
                    <span class="controls">
                        <input name="members" id="members" value="@(group.members.map{ m => m.id+":"+m.name }.mkString(","))" class="chosen" />
                    </span>
                </div>
                <div class="control-group">
                    <span class="controls">
                        <button type="submit" id="savebutton" class="btn btn-primary">Save Group</button>
                    </span>
                </div>
            </fieldset>
        </div>
    </form>
    <script src="/javaScriptPackage/cz.payola.web.client.presenters.entity.GroupEdit" type="text/javascript"></script>
    <script type="text/javascript">
        new cz.payola.web.client.presenters.entity.GroupEdit("@group.id").initialize();
    </script>

</div>

}
