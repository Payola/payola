@(user: cz.payola.domain.entities.User)

@main(Some(user), "Create a new data source - Payola!") {

<div style="padding-left: 30px; padding-bottom: 20px;"><a href="@routes.DataSource.list()" class="btn btn-success">List data sources &raquo;</a></div>

<form class="well" id="create_form"  action="@routes.DataSource.createNew()" method="post">
    <div>Data source name:
        <!-- setting the name to __dataSourceName__ (etc.) so that it won't colide with any data source parameter values. -->
        <input type="text" id="data_source_name_input" class="span3" name="__dataSourceName__" value="My data source">
    </div>

    <div>Description:
        <input type="text" id="data_source_description_input" class="span3" name="__dataSourceDescription__" value="">
    </div>

    <div><input type="checkbox" name="__dataSourceIsPublic__" value="Public"/> Public
    </div>


    <div style="padding-bottom: 20px;" id="data_fetcher_select_wrapper">

    </div>
    <div id="options_div"></div>

    <div id="submit_button_div"></div>
</form>

<script src="/javaScriptPackage/cz.payola.web.client.presenters.DataSourceCreator" type="text/javascript"></script>
<script type="text/javascript">
    new cz.payola.web.client.presenters.DataSourceCreator("data_fetcher_select_wrapper", "options_div", "submit_button_div", "data_source_name_input", "data_source_description_input", "@routes.DataSource.list()");
</script>

}
